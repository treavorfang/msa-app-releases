erDiagram
    BaseModel ||--o{ AuditLog : extends
    BaseModel ||--o{ BusinessSettings : extends
    BaseModel ||--o{ Customer : extends
    BaseModel ||--o{ Device : extends
    BaseModel ||--o{ DeviceProblem : extends
    BaseModel ||--o{ Invoice : extends
    BaseModel ||--o{ InvoiceItem : extends
    BaseModel ||--o{ Job : extends
    BaseModel ||--o{ Part : extends
    BaseModel ||--o{ Payment : extends
    BaseModel ||--o{ Permission : extends
    BaseModel ||--o{ PurchaseOrder : extends
    BaseModel ||--o{ PurchaseOrderItem : extends
    BaseModel ||--o{ Quote : extends
    BaseModel ||--o{ RepairPart : extends
    BaseModel ||--o{ Role : extends
    BaseModel ||--o{ ServiceType : extends
    BaseModel ||--o{ Supplier : extends
    BaseModel ||--o{ Technician : extends
    BaseModel ||--o{ TechnicianDevice : extends
    BaseModel ||--o{ Ticket : extends
    BaseModel ||--o{ User : extends
    BaseModel ||--o{ Warranty : extends

    Customer ||--o{ Ticket : "1:N"
    Customer ||--o{ Job : "1:N"
    Customer ||--o{ Invoice : "1:N"
    
    User ||--o{ Ticket : "created_by"
    User ||--o{ Ticket : "assigned_technician"
    User ||--o{ Invoice : "created_by"
    User ||--o{ Payment : "processed_by"
    User ||--o{ Quote : "created_by"
    User ||--o{ PurchaseOrder : "created_by"
    User ||--o{ BusinessSettings : "create_by"
    User ||--o{ Job : "created_by"
    User ||--o{ Job : "updated_by"
    User ||--o{ Job : "assigned_technician"
    User ||--o{ AuditLog : "1:N"
    User ||--o{ Customer : "created_by"
    User ||--o{ Customer : "updated_by"
    
    Ticket ||--o{ Device : "1:N"
    Ticket ||--o{ Quote : "1:N"
    
    Device ||--o{ RepairPart : "1:N"
    Device ||--o{ Warranty : "1:N"
    
    Part ||--o{ RepairPart : "1:N"
    Part ||--o{ InvoiceItem : "0:N"
    Part ||--o{ PurchaseOrderItem : "1:N"
    
    Invoice ||--o{ InvoiceItem : "1:N"
    Invoice ||--o{ Payment : "1:N"
    
    PurchaseOrder ||--o{ PurchaseOrderItem : "1:N"
    Supplier ||--o{ PurchaseOrder : "1:N"
    
    Role ||--o{ Permission : "1:N"
    Role ||--o{ User : "M:N"
    
    Technician ||--o{ RepairPart : "technician"
    Technician ||--o{ TechnicianDevice : "1:N"
    
    ServiceType ||--|| Ticket : "0:1"
    
    DeviceProblem }|--|| Device : "references"